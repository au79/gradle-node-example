/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

plugins {
    id 'distribution'
    id "com.moowork.node" version "1.3.1"
}

task nodeBuild(type: NpmTask) {
  // install the express package only
  args = ['run-script', 'build']
}
nodeBuild.dependsOn(npm_install)

task packageZip(type: Zip) {
    from "$buildDir"
    destinationDir(file('distributions'))
}
packageZip.dependsOn(nodeBuild)

task packageJar(type: Jar) {
    from "$buildDir"
    destinationDir(file('distributions'))
}
packageJar.dependsOn(nodeBuild)

